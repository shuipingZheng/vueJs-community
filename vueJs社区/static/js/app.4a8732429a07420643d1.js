webpackJsonp([1],{"+fRf":function(t,e){},"/wZh":function(t,e){},"1PPJ":function(t,e){},"2HIh":function(t,e){},E51W:function(t,e){},HRzj:function(t,e){},I6vl:function(t,e){},J2fb:function(t,e){},Kv5Q:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};s.d(a,"formatDate",function(){return Y}),s.d(a,"switchName",function(){return G});var n=s("fZjL"),i=s.n(n),o=s("7+uW"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"navigation"}},[e("mu-paper",{staticClass:"bottom"},[e("mu-bottom-nav",{attrs:{value:this.bottomNav},on:{change:this.handleChange}},this._l(this.navList,function(t){return e("mu-bottom-nav-item",{key:t.value,attrs:{value:t.value,title:t.name,icon:t.icon,to:"/"+t.value}})}))],1)],1)},staticRenderFns:[]};var c=s("VU/8")({name:"navigation",data:function(){return{bottomNav:"index",navList:[{name:"首页",value:"index",icon:"home"},{name:"消息",value:"message",icon:"email"},{name:"我的",value:"person",icon:"person"},{name:"设置",value:"settings",icon:"settings"}]}},methods:{handleChange:function(t){this.bottomNav=t}}},l,!1,function(t){s("2HIh")},null,null).exports,r=s("NYxO"),u={name:"App",data:function(){return{}},created:function(){var t=localStorage.getItem("accesstoken"),e=localStorage.getItem("loginname");this.$store.commit("setAccesstoken",t),this.$store.commit("setLoginname",e)},components:{navigation:c}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1),this._v(" "),e("navigation")],1)},staticRenderFns:[]};var p=s("VU/8")(u,m,!1,function(t){s("/wZh")},null,null).exports,h=s("/ocq"),d=new o.default,f={name:"themeTabs",data:function(){return{dialog:!1,limit:15,itemList:{all:{data:[],pageNum:1,More:!0},good:{data:[],pageNum:1,More:!0},weex:{data:[],pageNum:1,More:!0},share:{data:[],pageNum:1,More:!0},ask:{data:[],pageNum:1,More:!0},job:{data:[],pageNum:1,More:!0}},activeTab:"all",lineProgress:!1,themeList:[{name:"全部",id:"all"},{name:"精华",id:"good"},{name:"weex",id:"weex"},{name:"分享",id:"share"},{name:"问答",id:"ask"},{name:"招聘",id:"job"}],loading:!1,scroller:null}},mounted:function(){this.scroller=this.$refs.theme;var t=this;d.$on("publish",function(e){t.activeTab=e,t.itemList[e].pageNum=1,t.getData()})},methods:{add:function(){null==this.accesstoken||""==this.accesstoken?this.dialog=!0:this.$router.push({path:"/add"})},close:function(){this.dialog=!1},onConfirm:function(){this.dialog=!1,this.$router.push({path:"/login"})},handleTabChange:function(t){this.activeTab=t},handleActive:function(){0==this.itemList[this.activeTab].data.length&&this.getData()},loadMore:function(){this.itemList[this.activeTab].More&&(this.loading=!0,this.itemList[this.activeTab].pageNum++,this.getData())},getData:function(){var t=this;this.lineProgress=!0,this.$ajax.get("https://www.vue-js.com/api/v1/topics",{params:{tab:this.activeTab,page:this.itemList[this.activeTab].pageNum,limit:this.limit}}).then(function(e){if(t.loading=!1,t.lineProgress=!1,0==e.data.data.length)return t.itemList[t.activeTab].More=!1,!1;e.data.data.length<t.limit&&(t.itemList[t.activeTab].More=!1),t.itemList[t.activeTab].data=t.itemList[t.activeTab].data.concat(e.data.data)}).catch(function(){})},openPage:function(t){this.$router.push({path:"/articlePage",query:{aid:t}})}},computed:{accesstoken:function(){return this.$store.getters.getAccesstoken}},created:function(){this.getData()}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"themeTabs"}},[s("div",{staticClass:"fixed"},[s("mu-appbar",{attrs:{title:"VueJs社区"}},[s("mu-avatar",{attrs:{slot:"leftAvatar",src:""},slot:"leftAvatar"}),t._v(" "),s("mu-icon",{attrs:{slot:"right",value:"add"},on:{click:t.add},slot:"right"})],1),t._v(" "),s("mu-tabs",{attrs:{value:t.activeTab},on:{change:t.handleTabChange}},t._l(t.themeList,function(e){return s("mu-tab",{key:e.id,attrs:{value:e.id,title:e.name},on:{active:t.handleActive}})}))],1),t._v(" "),s("div",{ref:"theme",staticClass:"fixedContent"},t._l(t.themeList,function(e){return t.activeTab===e.id?s("div",[s("mu-list",[t._l(t.itemList[t.activeTab].data,function(e,a){return s("mu-list-item",{key:a,attrs:{title:e.title},on:{click:function(s){t.openPage(e.id)}}},[s("mu-avatar",{attrs:{slot:"leftAvatar",src:e.author.avatar_url},slot:"leftAvatar"}),t._v(" "),s("span",{attrs:{slot:"describe"},slot:"describe"},[e.top?s("mu-badge",{attrs:{slot:"after",content:"置顶",badgeClass:"topColor"},slot:"after"}):e.good?s("mu-badge",{attrs:{slot:"after",content:"精华",badgeClass:"badgeColor"},slot:"after"}):"weex"===e.tab?s("mu-badge",{attrs:{slot:"after",content:"weex",badgeClass:"badgeColor"},slot:"after"}):"share"===e.tab?s("mu-badge",{attrs:{slot:"after",content:"分享",badgeClass:"badgeColor"},slot:"after"}):"ask"===e.tab?s("mu-badge",{attrs:{slot:"after",content:"问答",badgeClass:"badgeColor"},slot:"after"}):"job"===e.tab?s("mu-badge",{attrs:{slot:"after",content:"招聘",badgeClass:"badgeColor"},slot:"after"}):t._e(),t._v(" "),s("span",{attrs:{title:"回复数",icon:"home"}},[t._v(t._s(e.reply_count))]),t._v("/"),s("span",{attrs:{title:"访问数"}},[t._v(t._s(e.visit_count))]),t._v(" "),s("span")],1),t._v(" "),s("span",{attrs:{slot:"right"},slot:"right"},[t._v("\n                "+t._s(t._f("formatDate")(e.create_at))+"\n              ")])],1)}),t._v(" "),s("mu-divider")],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.itemList[t.activeTab].More,expression:"!itemList[activeTab].More"}],staticClass:"noMore"},[t._v("没有更多~")]),t._v(" "),s("mu-infinite-scroll",{attrs:{scroller:t.scroller,loading:t.loading},on:{load:t.loadMore}})],1):t._e()})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lineProgress,expression:"lineProgress"}],staticClass:"lineProgress"},[s("mu-circular-progress",{attrs:{size:60,strokeWidth:5}})],1),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"温馨提示"},on:{close:t.close}},[t._v("\n      请先登录\n      "),s("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"取消"},on:{click:t.close},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.onConfirm},slot:"actions"})],1)],1)},staticRenderFns:[]};var g={name:"",data:function(){return{}},components:{themeTabs:s("VU/8")(f,v,!1,function(t){s("PeeV")},null,null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[e("themeTabs")],1)},staticRenderFns:[]};var k=s("VU/8")(g,b,!1,function(t){s("I6vl")},null,null).exports,C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"appBar"},[e("mu-appbar",{attrs:{title:this.appBar,titleClass:"appBarClass"}})],1)},staticRenderFns:[]};var w=s("VU/8")({name:"appbar",data:function(){return{}},props:["appBar"]},C,!1,function(t){s("J2fb")},null,null).exports,T={name:"message",data:function(){return{accesstoken:"",has_read_messages:[],hasnot_read_messages:[]}},components:{appBar:w},methods:{getData:function(){var t=this;this.$ajax.get("https://www.vue-js.com/api/v1/messages?accesstoken="+this.accesstoken).then(function(e){t.has_read_messages=e.data.data.has_read_messages,t.hasnot_read_messages=e.data.data.hasnot_read_messages}).catch(function(){})},onLogin:function(){""!=this.accesstoken&&null!=this.accesstoken||this.$router.push({path:"/login"})}},created:function(){var t=localStorage.getItem("accesstoken");null==t?this.$router.push({path:"/login"}):(this.accesstoken=t,this.getData())},mounted:function(){var t=this;d.$on("login",function(e){t.accesstoken=e.accesstoken,t.getData()})}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"message"},[s("app-bar",{attrs:{appBar:"消息"}}),t._v(" "),s("mu-list",{staticClass:"messageList"},[t.hasnot_read_messages?s("mu-list-item",{attrs:{title:"新消息("+t.hasnot_read_messages.length+")",toggleNested:"",open:!1},on:{click:function(e){t.onLogin()}}},t._l(t.hasnot_read_messages,function(t,e){return s("mu-list-item",{key:e,staticClass:"topicsList",attrs:{slot:"nested",title:t.author.loginname+" 回复了你的话题 "+t.topic.title},slot:"nested"})})):t._e(),t._v(" "),s("mu-divider")],1),t._v(" "),s("mu-list",{staticClass:"messageList"},[t.has_read_messages?s("mu-list-item",{attrs:{title:"过往消息("+t.has_read_messages.length+")",toggleNested:"",open:!1},on:{click:function(e){t.onLogin()}}},t._l(t.has_read_messages,function(t,e){return s("mu-list-item",{key:e,staticClass:"topicsList",attrs:{slot:"nested",title:t.author.loginname+" 回复了你的话题 "+t.topic.title},slot:"nested"})})):t._e(),t._v(" "),s("mu-divider")],1)],1)},staticRenderFns:[]};var $=s("VU/8")(T,x,!1,function(t){s("Kv5Q")},null,null).exports,L={name:"person",data:function(){return{loginname:"",user:{avatar_url:"./static/images/logo.png",loginname:"",score:0,create_at:"",collect_topics:[],recent_replies:[],recent_topics:[]}}},components:{appBar:w},methods:{getData:function(){var t=this;this.$ajax.get("https://www.vue-js.com/api/v1/user/"+this.loginname).then(function(e){t.user=e.data.data,this.$store.commit("setLoginname",e.data.data.loginname)}).catch(function(){})},openPage:function(t){this.$router.push({path:"/articlePage",query:{aid:t}})},onLogin:function(){""!=this.loginname&&null!=this.loginname||this.$router.push({path:"/login"})}},created:function(){var t=localStorage.getItem("loginname");null!=t&&(this.loginname=t,this.getData())},mounted:function(){var t=this;d.$on("collect",function(e){t.getData()}),d.$on("login",function(e){t.loginname=e.loginname,t.getData()})}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"person"},[s("app-bar",{attrs:{appBar:"个人中心"}}),t._v(" "),s("mu-list",[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.user.avatar_url}}),t._v(" "),t.user.loginname?t._e():s("div",{staticClass:"avatarInfo"},[s("span",{on:{click:function(e){t.onLogin()}}},[t._v("请先登录")])]),t._v(" "),t.user.loginname?s("div",{staticClass:"avatarInfo"},[s("span",{staticClass:"name"},[t._v(t._s(t.user.loginname))]),t._v(" "),s("span",[t._v("积分:"+t._s(t.user.score||0))]),t._v(" "),s("span",[t._v("创建于"+t._s(t._f("formatDate")(t.user.create_at)))])]):t._e()]),t._v(" "),t.user.collect_topics?s("mu-list-item",{attrs:{title:"收藏的话题",toggleNested:"",open:!1},on:{click:function(e){t.onLogin()}}},[t._l(t.user.collect_topics,function(e){return s("mu-list-item",{key:e.id,staticClass:"topicsList",attrs:{slot:"nested",title:e.title},on:{click:function(s){t.openPage(e.id)}},slot:"nested"},[s("mu-icon",{attrs:{slot:"left",value:"arrow_right"},slot:"left"})],1)}),t._v(" "),s("span",{staticClass:"numClass",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.collect_topics.length))])],2):t._e(),t._v(" "),s("mu-divider"),t._v(" "),t.user.recent_replies?s("mu-list-item",{attrs:{title:"最近参与的话题",toggleNested:"",open:!1},on:{click:function(e){t.onLogin()}}},[t._l(t.user.recent_replies,function(e){return s("mu-list-item",{key:e.id,staticClass:"topicsList",attrs:{slot:"nested",title:e.title},on:{click:function(s){t.openPage(e.id)}},slot:"nested"},[s("mu-icon",{attrs:{slot:"left",value:"arrow_right"},slot:"left"})],1)}),t._v(" "),s("span",{staticClass:"numClass",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.recent_replies.length))])],2):t._e(),t._v(" "),s("mu-divider"),t._v(" "),t.user.recent_topics?s("mu-list-item",{attrs:{title:"最近创建的话题",toggleNested:"",open:!1},on:{click:function(e){t.onLogin()}}},[t._l(t.user.recent_topics,function(e){return s("mu-list-item",{key:e.id,staticClass:"topicsList",attrs:{slot:"nested",title:e.title},on:{click:function(s){t.openPage(e.id)}},slot:"nested"},[s("mu-icon",{attrs:{slot:"left",value:"arrow_right"},slot:"left"})],1)}),t._v(" "),s("span",{staticClass:"numClass",attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.user.recent_topics.length))])],2):t._e(),t._v(" "),s("mu-divider")],1)],1)},staticRenderFns:[]};var P=s("VU/8")(L,y,!1,function(t){s("1PPJ")},null,null).exports,N={name:"settings",data:function(){return{accesstoken:""}},components:{appBar:w},methods:{onLogin:function(){""==this.accesstoken||null==this.accesstoken?this.$router.push({path:"/login"}):(this.$store.commit("setAccesstoken",""),this.$store.commit("setLoginname",""),this.$router.push({path:"/login"}))}},created:function(){var t=localStorage.getItem("accesstoken");this.accesstoken=t},mounted:function(){var t=this;d.$on("login",function(e){t.accesstoken=e.accesstoken})}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("app-bar",{attrs:{appBar:"设置"}}),t._v(" "),s("div",{staticClass:"settingsContent"},[s("mu-list",[s("mu-list-item",{staticClass:"listItem",attrs:{title:"关于"}}),t._v(" "),s("mu-list-item",{staticClass:"listItem",attrs:{title:"帮助与反馈"}})],1),t._v(" "),s("mu-list",[s("mu-list-item",{staticClass:"listItem",attrs:{title:t.accesstoken?"退出":"登录"},on:{click:function(e){t.onLogin()}}})],1)],1)],1)},staticRenderFns:[]};var B=s("VU/8")(N,R,!1,function(t){s("UIXo")},null,null).exports,M={name:"headerBack",props:{titleName:String},methods:{onClose:function(){this.$router.go(-1)}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headerBack"},[s("mu-appbar",{attrs:{title:t.titleName,titleClass:"backBarClass"}},[s("mu-icon-button",{attrs:{slot:"left",icon:"arrow_back_ios"},on:{click:function(e){t.onClose()}},slot:"left"})],1)],1)},staticRenderFns:[]};var I={name:"replies",data:function(){return{topPopup:!1,multiLineInputErrorText:"",bottomSheet:!1,repliesValue:"",repliesTxt:"添加评论",reply_id:"",reply_name:""}},props:["replies"],methods:{closeBottomSheet:function(){this.bottomSheet=!1},openBottomSheet:function(t){this.bottomSheet=!0,this.reply_id=t.id,this.reply_name=t.author.loginname},handleMultiLineOverflow:function(t){this.multiLineInputErrorText=t?"超过啦！！！！":""},comments:function(){this.repliesTxt="回复 "+this.reply_name+" 的评论",this.$refs.repliesText.focus()},onClose:function(){this.$store.commit("setShowReplies")},cancelR:function(){this.repliesTxt="添加评论",this.reply_id="",this.reply_name=""},sendReply:function(){var t="https://www.vue-js.com/api/v1/topic/"+this.$route.query.aid+"/replies",e=this,s=void 0;s=""!=this.reply_id?'<a href="/user/'+this.reply_name+'">@'+this.reply_name+"</a>"+this.repliesValue:this.repliesValue,this.$ajax.post(t,{accesstoken:e.accesstoken,content:s,reply_id:e.reply_id}).then(function(t){d.$emit("replies",t.data.success),e.topPopup=!0,e.repliesValue="",e.cancelR()}).catch(function(t){})}},computed:{accesstoken:function(){return this.$store.getters.getAccesstoken}},watch:{topPopup:function(t){var e=this;t&&setTimeout(function(){e.topPopup=!1},2e3)}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment"},[s("div",{staticClass:"repliesHeader"},[s("mu-appbar",{attrs:{title:"评论",titleClass:"backBarClass"}},[s("mu-icon-button",{attrs:{slot:"left",icon:"close"},on:{click:function(e){t.onClose()}},slot:"left"}),t._v(" "),"添加评论"!=t.repliesTxt?s("mu-flat-button",{attrs:{slot:"right",color:"white",label:"取消回复"},on:{click:function(e){t.cancelR()}},slot:"right"}):t._e()],1)],1),t._v(" "),s("div",{staticClass:"repliesBody"},[s("mu-list",[t.replies?s("mu-sub-header",{staticClass:"subHeader"},[t._v(t._s(t.replies.length)+" 评论")]):t._e(),t._v(" "),s("mu-list",t._l(t.replies,function(e,a){return s("mu-list-item",{key:a,attrs:{value:a,title:e.author.loginname,afterText:t._f("formatDate")(e.create_at)},on:{click:function(s){t.openBottomSheet(e)}}},[s("mu-avatar",{attrs:{slot:"leftAvatar",src:e.author.avatar_url,size:30},slot:"leftAvatar"}),t._v(" "),s("span",{domProps:{innerHTML:t._s(e.content)}}),t._v(" "),s("span",{attrs:{slot:"describe"},slot:"describe"},[t._v(t._s(a+1)+" 楼")]),t._v(" "),s("mu-divider")],1)}))],1)],1),t._v(" "),s("div",{staticClass:"repliesFooter"},[s("mu-text-field",{ref:"repliesText",staticClass:"repliesText",attrs:{hintText:t.repliesTxt},model:{value:t.repliesValue,callback:function(e){t.repliesValue=e},expression:"repliesValue"}}),t._v(" "),s("mu-icon-button",{staticClass:"repliesBtn",attrs:{icon:"send"},on:{click:function(e){t.sendReply()}}})],1),t._v(" "),s("mu-bottom-sheet",{attrs:{open:t.bottomSheet},on:{close:t.closeBottomSheet}},[s("mu-list",{on:{itemClick:t.closeBottomSheet}},[s("mu-list-item",{attrs:{title:"回复评论"},on:{click:function(e){t.comments()}}}),t._v(" "),s("mu-list-item",{attrs:{title:"踩评论"}}),t._v(" "),s("mu-list-item",{attrs:{title:"举报"}})],1)],1),t._v(" "),s("mu-popup",{attrs:{position:"top",overlay:!1,popupClass:"demo-popup-top",open:t.topPopup}},[""!=t.reply_id?s("div",[t._v("回复成功")]):s("div",[t._v("评论成功")])])],1)},staticRenderFns:[]};var D={name:"articlePage",data:function(){return{dialog:!1,article:[],collect:!1,collectType:"collect"}},components:{headerBack:s("VU/8")(M,S,!1,function(t){s("+fRf")},null,null).exports,replies:s("VU/8")(I,j,!1,function(t){s("SRsX")},null,null).exports},methods:{getData:function(){var t=this;t.collect=!1,this.$ajax.get("https://www.vue-js.com/api/v1/topic/"+this.$route.query.aid).then(function(e){t.article=e.data.data,t.loginname&&t.getCollect()}).catch(function(t){})},replies:function(){if(null==this.accesstoken||""==this.accesstoken)return this.$router.push({path:"/login"}),!1;this.$store.commit("setShowReplies")},onCollect:function(){var t=this;if(null==this.accesstoken||""==this.accesstoken)return this.$router.push({path:"/login"}),!1;this.collect?(this.collectType="de_collect",this.collectText="收藏"):(this.collectType="collect",this.collectText="已收藏"),this.$ajax.post("https://www.vue-js.com/api/v1/topic/"+this.collectType,{accesstoken:this.accesstoken,topic_id:this.$route.query.aid}).then(function(e){e.data.success&&(t.collect=!t.collect,d.$emit("collect",t.collect))}).catch(function(t){})},share:function(){this.dialog=!0},onClose:function(){this.dialog=!1},getCollect:function(){var t=this;this.$ajax.get("https://www.vue-js.com/api/v1/user/"+this.loginname).then(function(e){e.data.data.collect_topics.find(function(e){t.article.id===e.id&&(t.collect=!0)})}).catch(function(){})}},computed:{showReplies:function(){return this.$store.getters.getShowReplies},accesstoken:function(){return this.$store.getters.getAccesstoken},loginname:function(){return this.$store.getters.getLoginname}},created:function(){this.getData()},mounted:function(){var t=this;d.$on("replies",function(e){t.getData()})},watch:{$route:function(t,e){t.query.aid&&this.getData()}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articlePage"},[s("header-back",{attrs:{titleName:t.article.title}}),t._v(" "),s("div",{staticClass:"articleContent"},[t.article.author?s("div",{staticClass:"articleInfo"},[s("img",{attrs:{src:t.article.author.avatar_url}}),t._v(" "),s("div",{staticClass:"infoBox"},[s("span",{staticClass:"authorName"},[t._v(t._s(t.article.author.loginname))]),s("br"),t._v(" "),s("span",[t._v("发布于:"+t._s(t._f("formatDate")(t.article.create_at)))]),t._v(" "),s("span",[t._v(t._s(t.article.visit_count)+"次浏览 ")]),t._v("-\n\t\t\t\t"),s("span",[t._v("来自:"+t._s(t._f("switchName")(t.article.tab)))])])]):t._e(),t._v(" "),s("div",{staticClass:"articleBody",domProps:{innerHTML:t._s(t.article.content)}})]),t._v(" "),s("div",{staticClass:"articleFooter"},[s("span",{staticClass:"articleFooterBtn",on:{click:function(e){t.share()}}},[s("mu-icon",{attrs:{slot:"left",value:"share"},slot:"left"}),t._v(" "),s("span",[t._v("分享")])],1),t._v(" "),s("span",{staticClass:"articleFooterBtn",on:{click:function(e){t.onCollect()}}},[s("mu-icon",{attrs:{slot:"left",value:t.collect?"favorite":"favorite_border"},slot:"left"}),t._v(" "),t.collect?s("span",[t._v("已收藏")]):s("span",[t._v("收藏")])],1),t._v(" "),s("span",{staticClass:"articleFooterBtn",on:{click:function(e){t.replies()}}},[s("mu-icon",{attrs:{slot:"left",value:"message"},slot:"left"}),t._v(" "),s("span",[t._v(t._s(t.article.reply_count))])],1)]),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"温馨提示"},on:{close:t.onClose}},[t._v("\n        开发中...\n        "),s("mu-flat-button",{attrs:{slot:"actions",primary:"",label:"确定"},on:{click:t.onClose},slot:"actions"})],1),t._v(" "),t.showReplies?s("replies",{attrs:{replies:t.article.replies}}):t._e()],1)},staticRenderFns:[]};var F=s("VU/8")(D,V,!1,function(t){s("lgIE")},null,null).exports,A={name:"login",data:function(){return{snackbar:!1,accesstoken:"",topPopup:!1,tipText:""}},components:{appBar:w},methods:{showSnackbar:function(){var t=this;this.snackbar=!0,this.snackTimer&&clearTimeout(this.snackTimer),this.snackTimer=setTimeout(function(){t.snackbar=!1},2e3)},hideSnackbar:function(){this.snackbar=!1,this.snackTimer&&clearTimeout(this.snackTimer)},login:function(){if(""==this.accesstoken)return this.topPopup=!0,this.tipText="请输入accessToken",!1;var t=this;this.$ajax.post("https://www.vue-js.com/api/v1/accesstoken?accesstoken="+this.accesstoken).then(function(e){e.data.success&&(localStorage.setItem("accesstoken",t.accesstoken),localStorage.setItem("loginname",e.data.loginname),t.$store.commit("setAccesstoken",t.accesstoken),t.$store.commit("setLoginname",e.data.loginname),t.$router.go(-1),d.$emit("login",{accesstoken:t.accesstoken,loginname:e.data.loginname}))}).catch(function(e){t.topPopup=!0,t.tipText="accessToken错误"})}},watch:{topPopup:function(t){var e=this;t&&setTimeout(function(){e.topPopup=!1},2e3)}},created:function(){}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("app-bar",{attrs:{appBar:"登录"}}),t._v(" "),s("mu-text-field",{attrs:{label:"accessToken",hintText:"请输入accessToken",type:"text",labelFloat:""},model:{value:t.accesstoken,callback:function(e){t.accesstoken=e},expression:"accesstoken"}}),s("br"),t._v(" "),s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"登录",primary:""},on:{click:function(e){t.login()}}}),s("br"),s("br"),t._v(" "),s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"如何获取accesstoken",icon:"info"},on:{click:function(e){t.showSnackbar()}}}),t._v(" "),s("mu-popup",{attrs:{position:"top",overlay:!1,popupClass:"demo-popup-top",open:t.topPopup}},[t._v("\n\t    "+t._s(t.tipText)+"\n\t ")]),t._v(" "),t.snackbar?s("mu-snackbar",{attrs:{message:"vueJs社区注册登录后，在设置页面可以看到自己的 accessToken",action:"关闭"},on:{actionClick:t.hideSnackbar,close:t.hideSnackbar}}):t._e()],1)},staticRenderFns:[]};var U=s("VU/8")(A,E,!1,function(t){s("xyL4")},null,null).exports,H=s("EFqf"),J=s.n(H),q=(s("M4fF"),{name:"add",data:function(){return{preview:!1,dialog:!1,themeTitle:"",modelName:"ask",selectList:["ask","share","job"],input:"",tipMsg:"发布成功"}},components:{appBar:w},methods:{publish:function(){if(""==this.themeTitle)return this.tipMsg="标题不能为空",this.dialog=!0,!1;if(""==this.input)return this.tipMsg="正文不能为空",this.dialog=!0,!1;if(this.themeTitle.length<5)return this.tipMsg="标题文字太少",this.dialog=!0,!1;var t=this;this.$ajax.post("https://www.vue-js.com/api/v1/topics",{title:this.themeTitle,tab:this.modelName,content:this.input,accesstoken:this.accessToken}).then(function(e){t.tipMsg="发布成功",t.dialog=!0,t.$router.go(-1),d.$emit("publish",t.modelName),t.themeTitle="",t.modelName="ask",t.input=""}).catch(function(t){})},onClose:function(){this.$router.go(-1)},closeDialog:function(){this.dialog=!1},update:_.debounce(function(t){this.input=t},300),showPreview:function(){this.preview=!this.preview}},computed:{loginname:function(){return this.$store.getters.getLoginname},compiledMarkdown:function(){return J()(this.input,{sanitize:!0})},accessToken:function(){return this.$store.getters.getAccesstoken}},created:function(){}}),W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add"},[s("mu-appbar",{attrs:{title:"发布话题",titleClass:"appBarClass"}},[s("mu-icon-button",{attrs:{slot:"left",icon:"close"},on:{click:function(e){t.onClose()}},slot:"left"}),t._v(" "),s("mu-flat-button",{attrs:{slot:"right",color:"white",label:t.preview?"关闭预览":"预览"},on:{click:function(e){t.showPreview()}},slot:"right"})],1),t._v(" "),s("div",{staticClass:"release"},[s("mu-text-field",{attrs:{label:"请填写标题",labelFloat:"",fullWidth:""},model:{value:t.themeTitle,callback:function(e){t.themeTitle=e},expression:"themeTitle"}}),s("br"),t._v(" "),s("mu-select-field",{attrs:{labelFocusClass:["label-foucs"],label:"选择发布模块",fullWidth:""},model:{value:t.modelName,callback:function(e){t.modelName=e},expression:"modelName"}},t._l(t.selectList,function(e,a){return s("mu-menu-item",{key:a,attrs:{value:e,title:t._f("switchName")(e)}})})),t._v(" "),s("mu-text-field",{attrs:{label:"正文",hintText:"请参考Markdown语法",value:t.input,multiLine:"",rows:10,rowsMax:10,fullWidth:""},on:{input:t.update}}),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"发布",primary:""},on:{click:function(e){t.publish()}}})],1)],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.preview,expression:"preview"}],staticClass:"preview"},[s("h2",[t._v(t._s(t.themeTitle?t.themeTitle:"标题"))]),t._v(" "),s("p",[t._v("来自 "+t._s(t._f("switchName")(t.modelName))+" - 发布于 "+t._s(t._f("formatDate")(new Date)))]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.compiledMarkdown)}})]),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"温馨提示："}},[t._v("\n      "+t._s(t.tipMsg)+"\n      "),s("mu-flat-button",{attrs:{slot:"actions",label:"确定",primary:""},on:{click:function(e){t.closeDialog()}},slot:"actions"})],1)],1)},staticRenderFns:[]};var z=s("VU/8")(q,W,!1,function(t){s("HRzj")},null,null).exports;o.default.use(h.a);var X=new h.a({routes:[{path:"/",redirect:"index"},{path:"/index",name:"index",component:k},{path:"/message",name:"message",component:$},{path:"/person",name:"person",component:P},{path:"/settings",name:"settings",component:B},{path:"/articlePage",name:"articlePage",component:F},{path:"/login",name:"login",component:U},{path:"/add",name:"add",component:z}]}),O=s("mtWM"),Q=s.n(O),Z=s("u64Q"),K=s.n(Z),Y=(s("E51W"),s("VrJe"),function(t){if(!t)return"";var e=new Date(t),s=(new Date).getTime()-e.getTime();return s<0?"":s/1e3<30?"刚刚":s/1e3<60?parseInt(s/1e3)+"秒前":s/6e4<60?parseInt(s/6e4)+"分钟前":s/36e5<24?parseInt(s/36e5)+"小时前":s/864e5<31?parseInt(s/864e5)+"天前":s/2592e6<12?parseInt(s/2592e6)+"月前":parseInt(s/31536e6)+"年前"}),G=function(t){if(!t)return"";return{all:"全部",good:"精华",weex:"weex",share:"分享",ask:"问答",job:"招聘"}[t]};o.default.use(r.a);var tt=new r.a.Store({state:{article:"",loginname:"",accesstoken:"",showReplies:!1,collectTopics:[],collect:""},getters:{getArticle:function(t){return t.article},getLoginname:function(t){return t.loginname},getAccesstoken:function(t){return t.accesstoken},getShowReplies:function(t){return t.showReplies},getCollectTopics:function(t){return t.collectTopics},getCollect:function(t){return t.collect}},mutations:{setArticle:function(t,e){return t.article=e},setLoginname:function(t,e){return t.loginname=e},setAccesstoken:function(t,e){return t.accesstoken=e},setCollectTopics:function(t,e){return t.collectTopics=e},setCollect:function(t,e){return t.collect=e},setShowReplies:function(t){return t.showReplies?t.showReplies=!1:t.showReplies=!0}},actions:{},modules:{}});o.default.use(K.a),o.default.config.productionTip=!1,o.default.prototype.$ajax=Q.a,i()(a).forEach(function(t){return o.default.filter(t,a[t])}),new o.default({el:"#app",router:X,store:tt,components:{App:p},template:"<App/>"})},PeeV:function(t,e){},SRsX:function(t,e){},UIXo:function(t,e){},VrJe:function(t,e){},lgIE:function(t,e){},xyL4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4a8732429a07420643d1.js.map